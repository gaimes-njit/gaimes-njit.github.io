To generate a stable structure that looks like the uppercase character "U" and meets all the hard constraints, we can follow the following steps:

Step 1: Initialize the structure as an empty WxH grid using the provided code:

```python
structure = [[' ']*W for _ in range(H)]
```

Step 2: Determine the drop positions for each block type by considering the stability and constraints. Since the order and position of the blocks matter, we will need to iterate through different combinations to find a stable structure.

Step 3: Using the `ab_drop()` function, drop the blocks in the determined positions. Make sure to perform stability checks before each call to `ab_drop()`.

Step 4: Repeat steps 2 and 3 until the entire structure is built and meets all the constraints.

Here is an example implementation:

```python
def generate_structure():
    # Initialize the structure
    structure = [[' ']*W for _ in range(H)]

    # Drop the b31 block in the bottom layer, centered at slot 10
    ab_drop('b31', 10)

    # Drop the b13 blocks in layers 1-3, centered at slot 10
    for layer in range(1, 4):
        ab_drop('b13', 10)

    # Drop the b31 block in layer 4, centered at slot 10
    ab_drop('b31', 10)

    # Drop the b11 blocks in layers 5-14, centered at slot 10
    for layer in range(5, 15):
        ab_drop('b11', 10)

    # Drop the b31 block in layer 15, centered at slot 10
    ab_drop('b31', 10)

    return structure

# Example usage
structure = generate_structure()
```

This example implementation builds the "U" shape by dropping the blocks in the appropriate positions, starting from the bottom and moving up. The provided `ab_drop()` function ensures stability by checking the structure before each drop.