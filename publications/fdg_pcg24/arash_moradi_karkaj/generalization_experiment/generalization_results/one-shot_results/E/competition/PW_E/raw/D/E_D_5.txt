To generate the uppercase letter "D" using the given block types and environment, you can follow the following sequence of ab_drop() commands:

```
ab_drop('b31', 1)   // Place a horizontal block at position 1
ab_drop('b13', 2)   // Place a vertical block at position 2
ab_drop('b13', 3)   // Place a vertical block at position 3
ab_drop('b13', 4)   // Place a vertical block at position 4
ab_drop('b31', 4)   // Place a horizontal block at position 4
ab_drop('b11', 3)   // Place a square block at position 3
ab_drop('b11', 2)   // Place a square block at position 2
ab_drop('b11', 4)   // Place a square block at position 4
```

This sequence of commands will construct the uppercase "D" letter within the specified boundaries and according to the gravity rules.