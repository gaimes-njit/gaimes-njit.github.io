To generate the letter "D" using the given block types and gravity rules, follow these steps:

1. Start by placing a horizontal straight block (b31) at position 2.
   `ab_drop('b31', 2)`

2. Place a vertical straight block (b13) at position 1.
   `ab_drop('b13', 1)`

3. Place another vertical straight block (b13) at position 2.
   `ab_drop('b13', 2)`

4. Place a square block (b11) at position 4. This will form the bottom-right corner of the "D".
   `ab_drop('b11', 4)`

5. Place another square block (b11) at position 4. This will form the top-right corner of the "D".
   `ab_drop('b11', 4)`

6. Finally, place a horizontal straight block (b31) at position 2, aligned with the previous blocks. This will form the straight line of the "D".
   `ab_drop('b31', 2)`

After following these steps, you should have successfully generated the uppercase letter "D" in the Tetris-like environment.