To generate the uppercase letter M, you can use the following stream of commands using the specified block types and rules:

```
ab_drop('b31', 1)
ab_drop('b11', 1)
ab_drop('b11', 2)
ab_drop('b31', 4)
ab_drop('b11', 5)
ab_drop('b11', 6)
ab_drop('b31', 8)
ab_drop('b11', 9)
ab_drop('b11', 10)
ab_drop('b31', 12)
ab_drop('b11', 13)
ab_drop('b11', 14)
```

This sequence of commands will construct the letter M within the allowed space boundaries and follow the gravity rules.